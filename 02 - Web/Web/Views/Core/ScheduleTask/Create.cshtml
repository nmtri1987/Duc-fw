@using Biz.OG.Models
@model ScheduleTask
@{
    ViewBag.Title = "ScheduleTask";
}
@using (Ajax.BeginForm("Create", "ScheduleTask", 
    new AjaxOptions{
        InsertionMode = InsertionMode.Replace ,
        HttpMethod = "POST",
		//UpdateTargetId ="ScheduleTasklist",
		UpdateTargetId = Model.TargetDisplayID,
        LoadingElementId ="loadingDisplay",
        OnSuccess ="closePopup()",
        OnBegin = "onBegin", 
        OnComplete = "onComplete",
    }, new { @class = "form-horizontal", enctype = "multipart/form-data" })){
                    @Html.ValidationSummary(true)
					 @Html.HiddenFor(m => m.Id)
					  
 
 
 
 
 
 
 
 
 
 
 
 @Html.HiddenFor(m => m.CreatedDate) 
 @Html.HiddenFor(m => m.CreatedUser) 
 @Html.HiddenFor(m => m.ScreenID) 

 <div class="ibox float-e-margins">
     <div class="ibox-title">
         @L("ScheduleTask")
     </div>
     <div class="ibox-content">
	 <div id="loadingDisplay" class="progressBarLoad">
             <h2>@L("Progressing")...</h2>
             <div class="progress progress-striped ">
                 <div id="loadProgressBar" class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 20%"></div>
             </div>
         </div>
	   <div class="form-group">
             <label class="col-sm-2 control-label">@L("CompanyID")</label>
             <div class="col-sm-10">
               @Html.EditorFor(model => model.CompanyID, new { htmlAttributes = new { @class = "form-control ", @placeholder=L("CompanyID")} })
               @Html.ValidationMessageFor(model => model.CompanyID, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("Id")</label>
             <div class="col-sm-10">
               @Html.EditorFor(model => model.Id, new { htmlAttributes = new { @class = "form-control",@disabled = ""} })
               @Html.ValidationMessageFor(model => model.Id, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("Name")</label>
             <div class="col-sm-10">
               @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control ", @placeholder=L("Name")} })
               @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("Seconds")</label>
             <div class="col-sm-10">
               @Html.EditorFor(model => model.Seconds, new { htmlAttributes = new { @class = "form-control ", @placeholder=L("Seconds")} })
               @Html.ValidationMessageFor(model => model.Seconds, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("Type")</label>
             <div class="col-sm-10">
               @Html.EditorFor(model => model.Type, new { htmlAttributes = new { @class = "form-control ", @placeholder=L("Type")} })
               @Html.ValidationMessageFor(model => model.Type, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("Enabled")</label>
             <div class="col-sm-10">
               @Html.EditorFor(model => model.Enabled, new { htmlAttributes = new { @class = "form-control i-checks js-switch", @placeholder=L("Enabled")} })
               @Html.ValidationMessageFor(model => model.Enabled, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("StopOnError")</label>
             <div class="col-sm-10">
               @Html.EditorFor(model => model.StopOnError, new { htmlAttributes = new { @class = "form-control i-checks js-switch", @placeholder=L("StopOnError")} })
               @Html.ValidationMessageFor(model => model.StopOnError, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("LeasedByMachineName")</label>
             <div class="col-sm-10">
               @Html.EditorFor(model => model.LeasedByMachineName, new { htmlAttributes = new { @class = "form-control ", @placeholder=L("LeasedByMachineName")} })
               @Html.ValidationMessageFor(model => model.LeasedByMachineName, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("LeasedUntilUtc")</label>
             <div class="col-sm-10 input-group date">
               @Html.EditorFor(model => model.LeasedUntilUtc, new { htmlAttributes = new { @class = "form-control ", @placeholder=L("LeasedUntilUtc")} })
               <span class="input-group-addon">
                 <i class="fa fa-calendar"></i>
               </span>
               @Html.ValidationMessageFor(model => model.LeasedUntilUtc, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("LastStartUtc")</label>
             <div class="col-sm-10 input-group date">
               @Html.EditorFor(model => model.LastStartUtc, new { htmlAttributes = new { @class = "form-control ", @placeholder=L("LastStartUtc")} })
               <span class="input-group-addon">
                 <i class="fa fa-calendar"></i>
               </span>
               @Html.ValidationMessageFor(model => model.LastStartUtc, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("LastEndUtc")</label>
             <div class="col-sm-10 input-group date">
               @Html.EditorFor(model => model.LastEndUtc, new { htmlAttributes = new { @class = "form-control ", @placeholder=L("LastEndUtc")} })
               <span class="input-group-addon">
                 <i class="fa fa-calendar"></i>
               </span>
               @Html.ValidationMessageFor(model => model.LastEndUtc, "", new { @class = "text-danger" })
             </div>
         </div>  <div class="form-group">
             <label class="col-sm-2 control-label">@L("LastSuccessUtc")</label>
             <div class="col-sm-10 input-group date">
               @Html.EditorFor(model => model.LastSuccessUtc, new { htmlAttributes = new { @class = "form-control ", @placeholder=L("LastSuccessUtc")} })
               <span class="input-group-addon">
                 <i class="fa fa-calendar"></i>
               </span>
               @Html.ValidationMessageFor(model => model.LastSuccessUtc, "", new { @class = "text-danger" })
             </div>
         </div>
       

     </div>
     
         <div class="hr-line-dashed"></div>

         <div class="form-group">
             <div class="col-sm-12">
                 <button type="submit" class="btn btn-primary btn-block" name="btnsave" value="save">@L("SaveChange")</button>
             </div>
         </div>
     </div>


 }


  @Scripts.Render("~/bundles/jqueryval")

  <script>
    $(document).ready(function () {
	var elems = Array.prototype.slice.call(document.querySelectorAll('.js-switch'));
		 elems.forEach(function (html) {
		     var switchery = new Switchery(html, { color: '#1AB394' });
		 });
		   $('.date').datepicker({
		     todayBtn: "linked",
		     keyboardNavigation: false,
		     forceParse: false,
		     calendarWeeks: true,
		     autoclose: true
		 });
    });
</script>